[INFO ] 2023-01-23 00:10:01,781 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=null)
[INFO ] 2023-01-23 00:10:01,784 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 00:10:01,812 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Started create() with route point= RoutePoint(stationId=0, routeId=0, arrival=2023-01-23T00:10:01.804113, dispatch=2023-01-23T00:10:01.804079, orderId=0)
[INFO ] 2023-01-23 00:10:01,812 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,813 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Transaction done
[INFO ] 2023-01-23 00:10:01,814 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:01,832 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Started create() with carriage= Carriage(carriageId=0, type=FIRST_CLASS, number=null, trainId=0)
[INFO ] 2023-01-23 00:10:01,832 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,832 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Transaction done
[INFO ] 2023-01-23 00:10:01,833 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:01,833 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 00:10:01,846 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Started the method create. User: User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}
[INFO ] 2023-01-23 00:10:01,847 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction started
[ERROR] 2023-01-23 00:10:01,847 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - class java.lang.NullPointerException in method create: java.lang.NullPointerException: Cannot invoke "com.epam.redkin.railway.model.entity.Role.getName()" because the return value of "com.epam.redkin.railway.model.entity.User.getRole()" is null
[INFO ] 2023-01-23 00:10:01,854 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getById with id= 1
[INFO ] 2023-01-23 00:10:01,876 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Started the method create. User: User{userId=0, email='test@mail.com', password='123', firstName='John', lastName='Smith', phone='+380441233344', birthDate=2023-01-23, role=USER, blocked=true}
[INFO ] 2023-01-23 00:10:01,877 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,877 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction done
[INFO ] 2023-01-23 00:10:01,884 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method updateOrderStatus() with orderId= 123 and OrderStatus= DECLINED
[INFO ] 2023-01-23 00:10:01,884 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,884 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done with status: true
[INFO ] 2023-01-23 00:10:01,884 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:01,887 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getById with id= 1
[INFO ] 2023-01-23 00:10:01,890 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getOrderByUserId() with userId= 123
[INFO ] 2023-01-23 00:10:01,893 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getOrderByUserId() with userId= 1
[ERROR] 2023-01-23 00:10:01,893 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getOrderByUserId(): java.sql.SQLException
[INFO ] 2023-01-23 00:10:01,895 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[ERROR] 2023-01-23 00:10:01,896 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getPriceOfSuccessfulOrders(): java.sql.SQLException
[INFO ] 2023-01-23 00:10:01,898 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[INFO ] 2023-01-23 00:10:01,900 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 1
[ERROR] 2023-01-23 00:10:01,900 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getPriceOfSuccessfulOrders(): java.sql.SQLException
[INFO ] 2023-01-23 00:10:01,912 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 00:10:01,913 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,914 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 00:10:01,914 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 00:10:01,914 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:01,917 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 00:10:01,918 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,918 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 00:10:01,919 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction rollback
[ERROR] 2023-01-23 00:10:01,919 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in method create: java.sql.SQLException
[INFO ] 2023-01-23 00:10:01,919 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:01,922 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 00:10:01,922 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,923 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 00:10:01,923 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:01,927 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[INFO ] 2023-01-23 00:10:01,927 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - The method getPriceOfSuccessfulOrders() done, price: 10.0
[INFO ] 2023-01-23 00:10:01,929 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=0, trainNumber='null', carrType=null, price=0.0, arrivalDate=null, dispatchDate=null, user=null, orderDate=null, orderStatus=null, countOfSeats=0, arrivalStation='null', dispatchStation='null', travelTime='null', routeId=0, carriageNumber='null', seatNumber='null', seatsId='null'}
[INFO ] 2023-01-23 00:10:01,930 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,930 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction rollback
[ERROR] 2023-01-23 00:10:01,930 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.lang.NullPointerException in method create: java.lang.NullPointerException: Cannot invoke "java.sql.PreparedStatement.setObject(int, Object)" because "statement" is null
[INFO ] 2023-01-23 00:10:01,930 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[ERROR] 2023-01-23 00:10:01,937 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Unsupported operation exception
[ERROR] 2023-01-23 00:10:01,938 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Unsupported operation exception
[INFO ] 2023-01-23 00:10:01,939 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getAllOrders()
[INFO ] 2023-01-23 00:10:01,955 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method delete() with id= 1
[INFO ] 2023-01-23 00:10:01,955 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method delete() done, with row count= 1
[INFO ] 2023-01-23 00:10:01,961 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[INFO ] 2023-01-23 00:10:01,962 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method update() done with status= true
[INFO ] 2023-01-23 00:10:01,965 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started create() with seat= Seat(id=0, carriageId=0, seatNumber=01, busy=false)
[INFO ] 2023-01-23 00:10:01,965 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:01,965 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction done
[INFO ] 2023-01-23 00:10:01,965 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:01,965 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 00:10:01,969 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[ERROR] 2023-01-23 00:10:01,969 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot extract seats: java.sql.SQLException
[INFO ] 2023-01-23 00:10:01,972 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getBusySeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 00:10:01,972 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 00:10:01,974 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getBusySeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 00:10:01,974 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 00:10:01,976 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 00:10:01,976 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 00:10:01,978 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 00:10:01,978 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method done. Reserved count seat: 1
[INFO ] 2023-01-23 00:10:01,980 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 00:10:01,980 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 00:10:01,983 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[ERROR] 2023-01-23 00:10:01,983 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot get seats by id batch: java.sql.SQLException
[INFO ] 2023-01-23 00:10:01,985 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= null
[ERROR] 2023-01-23 00:10:01,985 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot extract seats: java.lang.NullPointerException: Cannot invoke "com.epam.redkin.railway.model.entity.CarriageType.toString()" because "type" is null
[INFO ] 2023-01-23 00:10:01,987 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 00:10:01,987 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Clear count seats: 1
[INFO ] 2023-01-23 00:10:01,989 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 00:10:01,989 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method done. Reserved count seat: 0
[INFO ] 2023-01-23 00:10:01,991 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 00:10:01,991 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Clear count seats: 0
[INFO ] 2023-01-23 00:10:01,993 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= FIRST_CLASS
[INFO ] 2023-01-23 00:10:01,993 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 00:10:01,996 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= FIRST_CLASS
[INFO ] 2023-01-23 00:10:01,996 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 00:10:01,998 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[INFO ] 2023-01-23 00:10:01,998 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Extracted seats: [Seat(id=10, carriageId=10, seatNumber=04, busy=false), Seat(id=10, carriageId=10, seatNumber=04, busy=false)]
[INFO ] 2023-01-23 00:10:02,000 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started getById() with id= 1
[INFO ] 2023-01-23 00:10:02,001 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method getById() done with seat= null
[INFO ] 2023-01-23 00:10:02,003 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[INFO ] 2023-01-23 00:10:02,003 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Extracted seats: []
[INFO ] 2023-01-23 00:10:02,005 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method deleteAllSeatsByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 00:10:02,005 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method deleteAllSeatsByCarriageId() done with row count= 0
[INFO ] 2023-01-23 00:10:02,007 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[INFO ] 2023-01-23 00:10:02,007 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats: [Seat(id=10, carriageId=10, seatNumber=04, busy=false), Seat(id=10, carriageId=10, seatNumber=04, busy=false)]
[INFO ] 2023-01-23 00:10:02,009 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[INFO ] 2023-01-23 00:10:02,009 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats: []
[INFO ] 2023-01-23 00:10:02,011 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method delete() with id= 1
[INFO ] 2023-01-23 00:10:02,011 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method delete() done, with row count= 0
[INFO ] 2023-01-23 00:10:02,012 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[INFO ] 2023-01-23 00:10:02,013 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method update() done with status= false
[INFO ] 2023-01-23 00:10:02,015 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[ERROR] 2023-01-23 00:10:02,015 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot update the seat java.sql.SQLException
[INFO ] 2023-01-23 00:10:02,017 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started create() with seat= Seat(id=0, carriageId=0, seatNumber=, busy=false)
[INFO ] 2023-01-23 00:10:02,018 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction started
[ERROR] 2023-01-23 00:10:02,018 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - class java.sql.SQLException in method create: java.sql.SQLException
[INFO ] 2023-01-23 00:10:02,018 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:02,021 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[ERROR] 2023-01-23 00:10:02,021 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Can't reserved seat: java.sql.SQLException
[INFO ] 2023-01-23 00:10:02,023 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started getById() with id= 10
[INFO ] 2023-01-23 00:10:02,023 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method getById() done with seat= Seat(id=10, carriageId=10, seatNumber=07, busy=true)
[INFO ] 2023-01-23 00:10:02,024 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method deleteAllSeatsByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 00:10:02,025 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method deleteAllSeatsByCarriageId() done with row count= 1
[INFO ] 2023-01-23 00:10:02,026 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[ERROR] 2023-01-23 00:10:02,026 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Can't clear seat: java.sql.SQLException
[INFO ] 2023-01-23 00:10:02,035 com.epam.redkin.railway.model.repository.impl.StationRepositoryImpl - Started create() with station= Station(id=0, station=null, orderId=0)
[INFO ] 2023-01-23 00:10:02,036 com.epam.redkin.railway.model.repository.impl.StationRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 00:10:02,046 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Started create() with route= Route(routeId=0, trainId=0, routeNumber=0, routeName=Route, stationList=null, firstClassFreeSeatsCount=0, secondClassFreeSeatsCount=0)
[INFO ] 2023-01-23 00:10:02,046 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Transaction started
[INFO ] 2023-01-23 00:10:02,046 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Transaction done
[INFO ] 2023-01-23 00:10:02,047 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Connection closed
[INFO ] 2023-01-23 00:10:02,047 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:32:07,960 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=null)
[INFO ] 2023-01-23 01:34:41,467 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:34:41,471 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:35:08,634 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:35:08,637 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:37:17,082 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:37:17,087 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 01:37:40,566 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:37:40,572 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 01:38:06,007 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:38:06,011 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 01:39:38,060 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 01:39:38,065 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 01:40:15,860 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 01:40:15,863 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 01:41:28,617 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 01:41:28,621 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 01:41:28,637 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:41:28,640 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:41:28,647 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:41:28,648 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 01:41:43,423 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Started create() with route point= RoutePoint(stationId=0, routeId=0, arrival=2023-01-23T01:41:43.417759, dispatch=2023-01-23T01:41:43.417739, orderId=0)
[INFO ] 2023-01-23 01:41:43,424 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,425 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Transaction done
[INFO ] 2023-01-23 01:41:43,426 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,444 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Started the method create. User: User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}
[INFO ] 2023-01-23 01:41:43,445 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction started
[ERROR] 2023-01-23 01:41:43,446 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - class java.lang.NullPointerException in method create: java.lang.NullPointerException: Cannot invoke "com.epam.redkin.railway.model.entity.Role.getName()" because the return value of "com.epam.redkin.railway.model.entity.User.getRole()" is null
[INFO ] 2023-01-23 01:41:43,453 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getById with id= 1
[INFO ] 2023-01-23 01:41:43,484 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Started the method create. User: User{userId=0, email='test@mail.com', password='123', firstName='John', lastName='Smith', phone='+380441233344', birthDate=2023-01-23, role=USER, blocked=true}
[INFO ] 2023-01-23 01:41:43,485 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,485 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction done
[INFO ] 2023-01-23 01:41:43,502 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Started create() with route= Route(routeId=0, trainId=0, routeNumber=0, routeName=Route, stationList=null, firstClassFreeSeatsCount=0, secondClassFreeSeatsCount=0)
[INFO ] 2023-01-23 01:41:43,502 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,502 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Transaction done
[INFO ] 2023-01-23 01:41:43,502 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,502 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:41:43,520 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method delete() with id= 1
[INFO ] 2023-01-23 01:41:43,520 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method delete() done, with row count= 1
[INFO ] 2023-01-23 01:41:43,528 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[INFO ] 2023-01-23 01:41:43,529 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method update() done with status= true
[INFO ] 2023-01-23 01:41:43,533 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started create() with seat= Seat(id=0, carriageId=0, seatNumber=01, busy=false)
[INFO ] 2023-01-23 01:41:43,533 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,534 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction done
[INFO ] 2023-01-23 01:41:43,534 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,534 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:41:43,540 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[ERROR] 2023-01-23 01:41:43,540 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot extract seats: java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,543 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getBusySeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 01:41:43,544 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 01:41:43,547 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getBusySeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 01:41:43,547 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 01:41:43,550 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 01:41:43,550 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 01:41:43,553 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 01:41:43,553 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method done. Reserved count seat: 1
[INFO ] 2023-01-23 01:41:43,556 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 01:41:43,556 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 01:41:43,558 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[ERROR] 2023-01-23 01:41:43,559 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot get seats by id batch: java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,562 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= null
[ERROR] 2023-01-23 01:41:43,562 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot extract seats: java.lang.NullPointerException: Cannot invoke "com.epam.redkin.railway.model.entity.CarriageType.toString()" because "type" is null
[INFO ] 2023-01-23 01:41:43,564 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 01:41:43,565 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Clear count seats: 1
[INFO ] 2023-01-23 01:41:43,568 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 01:41:43,568 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method done. Reserved count seat: 0
[INFO ] 2023-01-23 01:41:43,570 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 01:41:43,570 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Clear count seats: 0
[INFO ] 2023-01-23 01:41:43,572 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= FIRST_CLASS
[INFO ] 2023-01-23 01:41:43,572 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 01:41:43,575 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= FIRST_CLASS
[INFO ] 2023-01-23 01:41:43,575 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 01:41:43,577 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[INFO ] 2023-01-23 01:41:43,578 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Extracted seats: [Seat(id=10, carriageId=10, seatNumber=04, busy=false), Seat(id=10, carriageId=10, seatNumber=04, busy=false)]
[INFO ] 2023-01-23 01:41:43,581 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started getById() with id= 1
[INFO ] 2023-01-23 01:41:43,582 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method getById() done with seat= null
[INFO ] 2023-01-23 01:41:43,586 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[INFO ] 2023-01-23 01:41:43,586 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Extracted seats: []
[INFO ] 2023-01-23 01:41:43,589 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method deleteAllSeatsByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 01:41:43,590 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method deleteAllSeatsByCarriageId() done with row count= 0
[INFO ] 2023-01-23 01:41:43,593 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[INFO ] 2023-01-23 01:41:43,593 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats: [Seat(id=10, carriageId=10, seatNumber=04, busy=false), Seat(id=10, carriageId=10, seatNumber=04, busy=false)]
[INFO ] 2023-01-23 01:41:43,596 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[INFO ] 2023-01-23 01:41:43,597 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats: []
[INFO ] 2023-01-23 01:41:43,599 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method delete() with id= 1
[INFO ] 2023-01-23 01:41:43,599 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method delete() done, with row count= 0
[INFO ] 2023-01-23 01:41:43,602 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[INFO ] 2023-01-23 01:41:43,603 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method update() done with status= false
[INFO ] 2023-01-23 01:41:43,606 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[ERROR] 2023-01-23 01:41:43,606 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot update the seat java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,609 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started create() with seat= Seat(id=0, carriageId=0, seatNumber=, busy=false)
[INFO ] 2023-01-23 01:41:43,609 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction started
[ERROR] 2023-01-23 01:41:43,609 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - class java.sql.SQLException in method create: java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,609 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,611 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[ERROR] 2023-01-23 01:41:43,612 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Can't reserved seat: java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,615 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started getById() with id= 10
[INFO ] 2023-01-23 01:41:43,615 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method getById() done with seat= Seat(id=10, carriageId=10, seatNumber=07, busy=true)
[INFO ] 2023-01-23 01:41:43,618 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method deleteAllSeatsByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 01:41:43,619 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method deleteAllSeatsByCarriageId() done with row count= 1
[INFO ] 2023-01-23 01:41:43,622 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[ERROR] 2023-01-23 01:41:43,622 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Can't clear seat: java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,634 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Started create() with carriage= Carriage(carriageId=0, type=FIRST_CLASS, number=null, trainId=0)
[INFO ] 2023-01-23 01:41:43,634 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,634 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Transaction done
[INFO ] 2023-01-23 01:41:43,634 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,635 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:41:43,641 com.epam.redkin.railway.model.repository.impl.StationRepositoryImpl - Started create() with station= Station(id=0, station=null, orderId=0)
[INFO ] 2023-01-23 01:41:43,641 com.epam.redkin.railway.model.repository.impl.StationRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:41:43,658 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 01:41:43,658 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,662 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:41:43,662 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:41:43,664 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:41:43,664 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 01:41:43,666 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method updateOrderStatus() with orderId= 123 and OrderStatus= DECLINED
[INFO ] 2023-01-23 01:41:43,666 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,666 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done with status: true
[INFO ] 2023-01-23 01:41:43,666 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,669 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getById with id= 1
[INFO ] 2023-01-23 01:41:43,670 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getOrderByUserId() with userId= 123
[INFO ] 2023-01-23 01:41:43,673 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getOrderByUserId() with userId= 1
[ERROR] 2023-01-23 01:41:43,673 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getOrderByUserId(): java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,675 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[ERROR] 2023-01-23 01:41:43,675 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getPriceOfSuccessfulOrders(): java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,676 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[INFO ] 2023-01-23 01:41:43,677 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 1
[ERROR] 2023-01-23 01:41:43,678 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getPriceOfSuccessfulOrders(): java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,690 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 01:41:43,690 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,691 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 01:41:43,691 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 01:41:43,691 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,694 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 01:41:43,695 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,695 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 01:41:43,695 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction rollback
[ERROR] 2023-01-23 01:41:43,695 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in method create: java.sql.SQLException
[INFO ] 2023-01-23 01:41:43,696 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,698 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 01:41:43,698 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,698 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 01:41:43,699 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 01:41:43,701 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[INFO ] 2023-01-23 01:41:43,701 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - The method getPriceOfSuccessfulOrders() done, price: 10.0
[INFO ] 2023-01-23 01:41:43,703 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=0, trainNumber='null', carrType=null, price=0.0, arrivalDate=null, dispatchDate=null, user=null, orderDate=null, orderStatus=null, countOfSeats=0, arrivalStation='null', dispatchStation='null', travelTime='null', routeId=0, carriageNumber='null', seatNumber='null', seatsId='null'}
[INFO ] 2023-01-23 01:41:43,703 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 01:41:43,703 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction rollback
[ERROR] 2023-01-23 01:41:43,703 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.lang.NullPointerException in method create: java.lang.NullPointerException: Cannot invoke "java.sql.PreparedStatement.setObject(int, Object)" because "statement" is null
[INFO ] 2023-01-23 01:41:43,703 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[ERROR] 2023-01-23 01:41:43,706 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Unsupported operation exception
[ERROR] 2023-01-23 01:41:43,707 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Unsupported operation exception
[INFO ] 2023-01-23 01:41:43,708 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getAllOrders()
[INFO ] 2023-01-23 01:52:52,557 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 01:54:52,652 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 01:54:52,658 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: Train(id=1, number=77)
[INFO ] 2023-01-23 01:56:23,761 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 01:56:23,765 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: Train(id=1, number=77)
[INFO ] 2023-01-23 01:58:58,838 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 01:58:58,842 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: null
[INFO ] 2023-01-23 02:00:46,885 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[ERROR] 2023-01-23 02:00:46,888 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot read train from databasejava.sql.SQLException
[INFO ] 2023-01-23 02:01:17,682 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 02:01:17,686 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: null
[INFO ] 2023-01-23 02:01:17,741 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 02:01:17,741 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 02:01:17,747 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 02:01:17,748 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 02:01:17,755 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[ERROR] 2023-01-23 02:01:17,757 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot read train from databasejava.sql.SQLException
[INFO ] 2023-01-23 02:01:17,763 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 02:01:17,764 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 02:01:17,770 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 02:01:17,771 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: Train(id=1, number=77)
[INFO ] 2023-01-23 02:01:38,729 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Started create() with route point= RoutePoint(stationId=0, routeId=0, arrival=2023-01-23T02:01:38.723318, dispatch=2023-01-23T02:01:38.723298, orderId=0)
[INFO ] 2023-01-23 02:01:38,729 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:38,731 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Transaction done
[INFO ] 2023-01-23 02:01:38,732 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:38,748 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Started the method create. User: User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}
[INFO ] 2023-01-23 02:01:38,749 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction started
[ERROR] 2023-01-23 02:01:38,750 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - class java.lang.NullPointerException in method create: java.lang.NullPointerException: Cannot invoke "com.epam.redkin.railway.model.entity.Role.getName()" because the return value of "com.epam.redkin.railway.model.entity.User.getRole()" is null
[INFO ] 2023-01-23 02:01:38,757 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getById with id= 1
[INFO ] 2023-01-23 02:01:38,787 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Started the method create. User: User{userId=0, email='test@mail.com', password='123', firstName='John', lastName='Smith', phone='+380441233344', birthDate=2023-01-23, role=USER, blocked=true}
[INFO ] 2023-01-23 02:01:38,787 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:38,788 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction done
[INFO ] 2023-01-23 02:01:38,804 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Started create() with route= Route(routeId=0, trainId=0, routeNumber=0, routeName=Route, stationList=null, firstClassFreeSeatsCount=0, secondClassFreeSeatsCount=0)
[INFO ] 2023-01-23 02:01:38,805 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:38,805 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Transaction done
[INFO ] 2023-01-23 02:01:38,805 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:38,805 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 02:01:38,822 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method delete() with id= 1
[INFO ] 2023-01-23 02:01:38,823 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method delete() done, with row count= 1
[INFO ] 2023-01-23 02:01:38,831 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[INFO ] 2023-01-23 02:01:38,832 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method update() done with status= true
[INFO ] 2023-01-23 02:01:38,836 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started create() with seat= Seat(id=0, carriageId=0, seatNumber=01, busy=false)
[INFO ] 2023-01-23 02:01:38,836 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:38,836 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction done
[INFO ] 2023-01-23 02:01:38,837 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:38,837 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 02:01:38,843 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[ERROR] 2023-01-23 02:01:38,843 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot extract seats: java.sql.SQLException
[INFO ] 2023-01-23 02:01:38,846 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getBusySeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 02:01:38,847 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 02:01:38,850 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getBusySeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 02:01:38,850 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 02:01:38,854 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 02:01:38,854 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 02:01:38,857 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 02:01:38,857 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method done. Reserved count seat: 1
[INFO ] 2023-01-23 02:01:38,860 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 02:01:38,860 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 02:01:38,862 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[ERROR] 2023-01-23 02:01:38,863 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot get seats by id batch: java.sql.SQLException
[INFO ] 2023-01-23 02:01:38,867 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= null
[ERROR] 2023-01-23 02:01:38,867 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot extract seats: java.lang.NullPointerException: Cannot invoke "com.epam.redkin.railway.model.entity.CarriageType.toString()" because "type" is null
[INFO ] 2023-01-23 02:01:38,870 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 02:01:38,870 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Clear count seats: 1
[INFO ] 2023-01-23 02:01:38,873 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 02:01:38,873 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method done. Reserved count seat: 0
[INFO ] 2023-01-23 02:01:38,875 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 02:01:38,875 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Clear count seats: 0
[INFO ] 2023-01-23 02:01:38,879 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= FIRST_CLASS
[INFO ] 2023-01-23 02:01:38,880 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 02:01:38,884 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= FIRST_CLASS
[INFO ] 2023-01-23 02:01:38,884 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 02:01:38,888 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[INFO ] 2023-01-23 02:01:38,888 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Extracted seats: [Seat(id=10, carriageId=10, seatNumber=04, busy=false), Seat(id=10, carriageId=10, seatNumber=04, busy=false)]
[INFO ] 2023-01-23 02:01:38,891 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started getById() with id= 1
[INFO ] 2023-01-23 02:01:38,892 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method getById() done with seat= null
[INFO ] 2023-01-23 02:01:38,895 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[INFO ] 2023-01-23 02:01:38,896 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Extracted seats: []
[INFO ] 2023-01-23 02:01:38,899 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method deleteAllSeatsByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 02:01:38,899 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method deleteAllSeatsByCarriageId() done with row count= 0
[INFO ] 2023-01-23 02:01:38,903 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[INFO ] 2023-01-23 02:01:38,903 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats: [Seat(id=10, carriageId=10, seatNumber=04, busy=false), Seat(id=10, carriageId=10, seatNumber=04, busy=false)]
[INFO ] 2023-01-23 02:01:38,906 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[INFO ] 2023-01-23 02:01:38,907 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats: []
[INFO ] 2023-01-23 02:01:38,909 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method delete() with id= 1
[INFO ] 2023-01-23 02:01:38,909 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method delete() done, with row count= 0
[INFO ] 2023-01-23 02:01:38,912 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[INFO ] 2023-01-23 02:01:38,912 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method update() done with status= false
[INFO ] 2023-01-23 02:01:38,915 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[ERROR] 2023-01-23 02:01:38,915 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot update the seat java.sql.SQLException
[INFO ] 2023-01-23 02:01:38,918 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started create() with seat= Seat(id=0, carriageId=0, seatNumber=, busy=false)
[INFO ] 2023-01-23 02:01:38,918 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction started
[ERROR] 2023-01-23 02:01:38,918 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - class java.sql.SQLException in method create: java.sql.SQLException
[INFO ] 2023-01-23 02:01:38,918 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:38,921 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[ERROR] 2023-01-23 02:01:38,921 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Can't reserved seat: java.sql.SQLException
[INFO ] 2023-01-23 02:01:38,924 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started getById() with id= 10
[INFO ] 2023-01-23 02:01:38,924 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method getById() done with seat= Seat(id=10, carriageId=10, seatNumber=07, busy=true)
[INFO ] 2023-01-23 02:01:38,927 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method deleteAllSeatsByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 02:01:38,927 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method deleteAllSeatsByCarriageId() done with row count= 1
[INFO ] 2023-01-23 02:01:38,930 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[ERROR] 2023-01-23 02:01:38,930 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Can't clear seat: java.sql.SQLException
[INFO ] 2023-01-23 02:01:38,946 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Started create() with carriage= Carriage(carriageId=0, type=FIRST_CLASS, number=null, trainId=0)
[INFO ] 2023-01-23 02:01:38,946 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:38,946 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Transaction done
[INFO ] 2023-01-23 02:01:38,947 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:38,947 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 02:01:38,956 com.epam.redkin.railway.model.repository.impl.StationRepositoryImpl - Started create() with station= Station(id=0, station=null, orderId=0)
[INFO ] 2023-01-23 02:01:38,956 com.epam.redkin.railway.model.repository.impl.StationRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 02:01:38,959 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 02:01:38,960 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: null
[INFO ] 2023-01-23 02:01:38,978 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 02:01:38,979 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 02:01:38,980 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 02:01:38,980 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 02:01:38,982 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[ERROR] 2023-01-23 02:01:38,982 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot read train from databasejava.sql.SQLException
[INFO ] 2023-01-23 02:01:38,984 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 02:01:38,984 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 02:01:38,986 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 02:01:38,986 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: Train(id=1, number=77)
[INFO ] 2023-01-23 02:01:38,989 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method updateOrderStatus() with orderId= 123 and OrderStatus= DECLINED
[INFO ] 2023-01-23 02:01:38,989 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:38,989 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done with status: true
[INFO ] 2023-01-23 02:01:38,989 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:38,992 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getById with id= 1
[INFO ] 2023-01-23 02:01:38,995 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getOrderByUserId() with userId= 123
[INFO ] 2023-01-23 02:01:38,998 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getOrderByUserId() with userId= 1
[ERROR] 2023-01-23 02:01:38,998 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getOrderByUserId(): java.sql.SQLException
[INFO ] 2023-01-23 02:01:39,000 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[ERROR] 2023-01-23 02:01:39,000 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getPriceOfSuccessfulOrders(): java.sql.SQLException
[INFO ] 2023-01-23 02:01:39,002 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[INFO ] 2023-01-23 02:01:39,004 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 1
[ERROR] 2023-01-23 02:01:39,004 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getPriceOfSuccessfulOrders(): java.sql.SQLException
[INFO ] 2023-01-23 02:01:39,018 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 02:01:39,018 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:39,018 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 02:01:39,018 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 02:01:39,018 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:39,022 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 02:01:39,022 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:39,023 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 02:01:39,023 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction rollback
[ERROR] 2023-01-23 02:01:39,023 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in method create: java.sql.SQLException
[INFO ] 2023-01-23 02:01:39,023 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:39,025 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 02:01:39,026 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:39,026 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 02:01:39,026 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 02:01:39,028 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[INFO ] 2023-01-23 02:01:39,029 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - The method getPriceOfSuccessfulOrders() done, price: 10.0
[INFO ] 2023-01-23 02:01:39,032 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=0, trainNumber='null', carrType=null, price=0.0, arrivalDate=null, dispatchDate=null, user=null, orderDate=null, orderStatus=null, countOfSeats=0, arrivalStation='null', dispatchStation='null', travelTime='null', routeId=0, carriageNumber='null', seatNumber='null', seatsId='null'}
[INFO ] 2023-01-23 02:01:39,032 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 02:01:39,032 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction rollback
[ERROR] 2023-01-23 02:01:39,032 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.lang.NullPointerException in method create: java.lang.NullPointerException: Cannot invoke "java.sql.PreparedStatement.setObject(int, Object)" because "statement" is null
[INFO ] 2023-01-23 02:01:39,032 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[ERROR] 2023-01-23 02:01:39,034 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Unsupported operation exception
[ERROR] 2023-01-23 02:01:39,035 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Unsupported operation exception
[INFO ] 2023-01-23 02:01:39,036 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getAllOrders()
[INFO ] 2023-01-23 02:07:45,954 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 02:07:45,957 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: null
[INFO ] 2023-01-23 02:07:45,998 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 02:07:45,999 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 02:07:46,004 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 02:07:46,005 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 02:07:46,009 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[ERROR] 2023-01-23 02:07:46,010 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot read train from databasejava.sql.SQLException
[INFO ] 2023-01-23 02:07:46,015 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 02:07:46,015 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 02:07:46,019 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 02:07:46,020 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: Train(id=1, number=77)
[INFO ] 2023-01-23 08:27:35,079 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[INFO ] 2023-01-23 08:27:35,082 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Train updated: true
[INFO ] 2023-01-23 08:28:34,891 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[INFO ] 2023-01-23 08:28:34,894 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Train updated: false
[INFO ] 2023-01-23 08:30:35,131 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[ERROR] 2023-01-23 08:30:35,133 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot update train: java.sql.SQLException
[INFO ] 2023-01-23 08:36:46,510 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[INFO ] 2023-01-23 08:36:46,513 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Method done with status= 1
[INFO ] 2023-01-23 08:37:31,778 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[INFO ] 2023-01-23 08:37:31,781 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Method done with status= 1
[INFO ] 2023-01-23 08:38:26,789 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[INFO ] 2023-01-23 08:38:26,792 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Method done with status= 0
[INFO ] 2023-01-23 08:39:46,310 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[ERROR] 2023-01-23 08:39:46,312 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot delete train from database: java.sql.SQLException
[INFO ] 2023-01-23 08:40:21,527 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[ERROR] 2023-01-23 08:40:21,530 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot delete train from database: java.sql.SQLException
[INFO ] 2023-01-23 08:50:42,460 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 08:50:42,467 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 08:51:45,265 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 08:51:45,272 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 08:56:15,375 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 08:56:15,385 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 08:56:43,458 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 08:56:43,464 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 08:57:02,269 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 08:57:02,275 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 08:57:36,676 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 08:57:36,684 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 08:58:25,965 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 08:58:25,970 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 09:00:53,572 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 09:00:53,578 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 09:02:26,537 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 09:02:26,540 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: []
[INFO ] 2023-01-23 09:04:17,024 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[ERROR] 2023-01-23 09:04:17,027 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot extract list of train from database: java.sql.SQLException
[INFO ] 2023-01-23 09:06:32,764 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 09:06:32,768 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: null
[INFO ] 2023-01-23 09:06:32,784 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[INFO ] 2023-01-23 09:06:32,784 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Method done with status= 1
[INFO ] 2023-01-23 09:06:32,791 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[INFO ] 2023-01-23 09:06:32,791 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Method done with status= 0
[INFO ] 2023-01-23 09:06:32,799 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[ERROR] 2023-01-23 09:06:32,799 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot extract list of train from database: java.sql.SQLException
[INFO ] 2023-01-23 09:06:32,807 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 09:06:32,807 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 09:06:32,813 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 09:06:32,813 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 09:06:32,819 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 09:06:32,819 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: []
[INFO ] 2023-01-23 09:06:32,825 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[ERROR] 2023-01-23 09:06:32,825 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot update train: java.sql.SQLException
[INFO ] 2023-01-23 09:06:32,830 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[INFO ] 2023-01-23 09:06:32,831 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Train updated: true
[INFO ] 2023-01-23 09:06:32,836 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 09:06:32,837 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 09:06:32,842 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[ERROR] 2023-01-23 09:06:32,842 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot delete train from database: java.sql.SQLException
[INFO ] 2023-01-23 09:06:32,847 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[ERROR] 2023-01-23 09:06:32,847 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot read train from databasejava.sql.SQLException
[INFO ] 2023-01-23 09:06:32,851 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[INFO ] 2023-01-23 09:06:32,852 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Train updated: false
[INFO ] 2023-01-23 09:06:32,856 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 09:06:32,856 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 09:06:32,861 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 09:06:32,862 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: Train(id=1, number=77)
[INFO ] 2023-01-23 09:06:51,062 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Started create() with route point= RoutePoint(stationId=0, routeId=0, arrival=2023-01-23T09:06:51.056611, dispatch=2023-01-23T09:06:51.056585, orderId=0)
[INFO ] 2023-01-23 09:06:51,063 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,064 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Transaction done
[INFO ] 2023-01-23 09:06:51,064 com.epam.redkin.railway.model.repository.impl.RoutePointRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,083 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Started the method create. User: User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}
[INFO ] 2023-01-23 09:06:51,083 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction started
[ERROR] 2023-01-23 09:06:51,084 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - class java.lang.NullPointerException in method create: java.lang.NullPointerException: Cannot invoke "com.epam.redkin.railway.model.entity.Role.getName()" because the return value of "com.epam.redkin.railway.model.entity.User.getRole()" is null
[INFO ] 2023-01-23 09:06:51,091 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getById with id= 1
[INFO ] 2023-01-23 09:06:51,131 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Started the method create. User: User{userId=0, email='test@mail.com', password='123', firstName='John', lastName='Smith', phone='+380441233344', birthDate=2023-01-23, role=USER, blocked=true}
[INFO ] 2023-01-23 09:06:51,132 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,132 com.epam.redkin.railway.model.repository.impl.UserRepositoryImpl - Transaction done
[INFO ] 2023-01-23 09:06:51,149 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Started create() with route= Route(routeId=0, trainId=0, routeNumber=0, routeName=Route, stationList=null, firstClassFreeSeatsCount=0, secondClassFreeSeatsCount=0)
[INFO ] 2023-01-23 09:06:51,150 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,150 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Transaction done
[INFO ] 2023-01-23 09:06:51,150 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,151 com.epam.redkin.railway.model.repository.impl.RouteRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 09:06:51,167 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method delete() with id= 1
[INFO ] 2023-01-23 09:06:51,168 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method delete() done, with row count= 1
[INFO ] 2023-01-23 09:06:51,176 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[INFO ] 2023-01-23 09:06:51,177 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method update() done with status= true
[INFO ] 2023-01-23 09:06:51,180 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started create() with seat= Seat(id=0, carriageId=0, seatNumber=01, busy=false)
[INFO ] 2023-01-23 09:06:51,180 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,181 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction done
[INFO ] 2023-01-23 09:06:51,181 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,181 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 09:06:51,187 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[ERROR] 2023-01-23 09:06:51,188 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot extract seats: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,192 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getBusySeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 09:06:51,193 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 09:06:51,195 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getBusySeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 09:06:51,195 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 09:06:51,198 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 09:06:51,199 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 09:06:51,201 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 09:06:51,201 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method done. Reserved count seat: 1
[INFO ] 2023-01-23 09:06:51,203 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 09:06:51,204 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 09:06:51,208 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[ERROR] 2023-01-23 09:06:51,208 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot get seats by id batch: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,212 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= null
[ERROR] 2023-01-23 09:06:51,212 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot extract seats: java.lang.NullPointerException: Cannot invoke "com.epam.redkin.railway.model.entity.CarriageType.toString()" because "type" is null
[INFO ] 2023-01-23 09:06:51,214 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 09:06:51,215 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Clear count seats: 1
[INFO ] 2023-01-23 09:06:51,218 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 09:06:51,218 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method done. Reserved count seat: 0
[INFO ] 2023-01-23 09:06:51,220 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[INFO ] 2023-01-23 09:06:51,220 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Clear count seats: 0
[INFO ] 2023-01-23 09:06:51,224 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= FIRST_CLASS
[INFO ] 2023-01-23 09:06:51,224 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 10
[INFO ] 2023-01-23 09:06:51,229 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getSeatsCountByTrainIdAndByTypes() with trainId= 1 and Carriage type= FIRST_CLASS
[INFO ] 2023-01-23 09:06:51,229 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats count= 0
[INFO ] 2023-01-23 09:06:51,232 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[INFO ] 2023-01-23 09:06:51,233 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Extracted seats: [Seat(id=10, carriageId=10, seatNumber=04, busy=false), Seat(id=10, carriageId=10, seatNumber=04, busy=false)]
[INFO ] 2023-01-23 09:06:51,237 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started getById() with id= 1
[INFO ] 2023-01-23 09:06:51,237 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method getById() done with seat= null
[INFO ] 2023-01-23 09:06:51,240 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByCarriageId(int carriageId) with carriageId= 1
[INFO ] 2023-01-23 09:06:51,240 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Extracted seats: []
[INFO ] 2023-01-23 09:06:51,242 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method deleteAllSeatsByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 09:06:51,243 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method deleteAllSeatsByCarriageId() done with row count= 0
[INFO ] 2023-01-23 09:06:51,245 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[INFO ] 2023-01-23 09:06:51,246 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats: [Seat(id=10, carriageId=10, seatNumber=04, busy=false), Seat(id=10, carriageId=10, seatNumber=04, busy=false)]
[INFO ] 2023-01-23 09:06:51,250 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method getListSeatsByIdBatch(List<String> seatsId) with
 seatsId= [1, 2, 3]
[INFO ] 2023-01-23 09:06:51,250 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Seats: []
[INFO ] 2023-01-23 09:06:51,253 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method delete() with id= 1
[INFO ] 2023-01-23 09:06:51,254 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method delete() done, with row count= 0
[INFO ] 2023-01-23 09:06:51,257 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[INFO ] 2023-01-23 09:06:51,257 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method update() done with status= false
[INFO ] 2023-01-23 09:06:51,262 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method update() with seat= Seat(id=0, carriageId=0, seatNumber=11, busy=false)
[ERROR] 2023-01-23 09:06:51,262 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Cannot update the seat java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,266 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started create() with seat= Seat(id=0, carriageId=0, seatNumber=, busy=false)
[INFO ] 2023-01-23 09:06:51,266 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Transaction started
[ERROR] 2023-01-23 09:06:51,266 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - class java.sql.SQLException in method create: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,266 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,271 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method reservedSeat(int seatId) with seatId= 1
[ERROR] 2023-01-23 09:06:51,271 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Can't reserved seat: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,275 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started getById() with id= 10
[INFO ] 2023-01-23 09:06:51,276 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method getById() done with seat= Seat(id=10, carriageId=10, seatNumber=07, busy=true)
[INFO ] 2023-01-23 09:06:51,279 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started the method deleteAllSeatsByCarriageId() with carriageId= 1
[INFO ] 2023-01-23 09:06:51,279 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - The method deleteAllSeatsByCarriageId() done with row count= 1
[INFO ] 2023-01-23 09:06:51,283 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Started method with clearSeat(int seatId) with seatId= 1
[ERROR] 2023-01-23 09:06:51,284 com.epam.redkin.railway.model.repository.impl.SeatRepositoryImpl - Can't clear seat: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,299 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Started create() with carriage= Carriage(carriageId=0, type=FIRST_CLASS, number=null, trainId=0)
[INFO ] 2023-01-23 09:06:51,299 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,299 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Transaction done
[INFO ] 2023-01-23 09:06:51,299 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,299 com.epam.redkin.railway.model.repository.impl.CarriageRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 09:06:51,309 com.epam.redkin.railway.model.repository.impl.StationRepositoryImpl - Started create() with station= Station(id=0, station=null, orderId=0)
[INFO ] 2023-01-23 09:06:51,310 com.epam.redkin.railway.model.repository.impl.StationRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 09:06:51,314 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 09:06:51,314 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: null
[INFO ] 2023-01-23 09:06:51,316 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[INFO ] 2023-01-23 09:06:51,317 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Method done with status= 1
[INFO ] 2023-01-23 09:06:51,319 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[INFO ] 2023-01-23 09:06:51,319 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Method done with status= 0
[INFO ] 2023-01-23 09:06:51,321 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[ERROR] 2023-01-23 09:06:51,321 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot extract list of train from database: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,323 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[ERROR] 2023-01-23 09:06:51,324 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot add train into database java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,328 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 09:06:51,328 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: [Train(id=1, number=01), Train(id=2, number=02)]
[INFO ] 2023-01-23 09:06:51,331 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method  getAllTrains()
[INFO ] 2023-01-23 09:06:51,331 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted trains: []
[INFO ] 2023-01-23 09:06:51,333 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[ERROR] 2023-01-23 09:06:51,334 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot update train: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,336 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[INFO ] 2023-01-23 09:06:51,336 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Train updated: true
[INFO ] 2023-01-23 09:06:51,339 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 09:06:51,339 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 09:06:51,342 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method delete(int id) with id= 1
[ERROR] 2023-01-23 09:06:51,342 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot delete train from database: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,346 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[ERROR] 2023-01-23 09:06:51,347 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Cannot read train from databasejava.sql.SQLException
[INFO ] 2023-01-23 09:06:51,349 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method update(Train train) with train: Train(id=1, number=77)
[INFO ] 2023-01-23 09:06:51,350 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Train updated: false
[INFO ] 2023-01-23 09:06:51,353 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started create() with train= Train(id=0, number=01)
[INFO ] 2023-01-23 09:06:51,353 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Generated id= -1
[INFO ] 2023-01-23 09:06:51,357 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Started method getById(int id) with id= 1
[INFO ] 2023-01-23 09:06:51,357 com.epam.redkin.railway.model.repository.impl.TrainRepositoryImpl - Extracted train: Train(id=1, number=77)
[INFO ] 2023-01-23 09:06:51,362 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method updateOrderStatus() with orderId= 123 and OrderStatus= DECLINED
[INFO ] 2023-01-23 09:06:51,362 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,362 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done with status: true
[INFO ] 2023-01-23 09:06:51,363 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,368 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getById with id= 1
[INFO ] 2023-01-23 09:06:51,372 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getOrderByUserId() with userId= 123
[INFO ] 2023-01-23 09:06:51,376 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getOrderByUserId() with userId= 1
[ERROR] 2023-01-23 09:06:51,377 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getOrderByUserId(): java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,379 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[ERROR] 2023-01-23 09:06:51,380 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getPriceOfSuccessfulOrders(): java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,382 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[INFO ] 2023-01-23 09:06:51,384 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 1
[ERROR] 2023-01-23 09:06:51,385 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in getPriceOfSuccessfulOrders(): java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,411 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 09:06:51,411 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,412 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 09:06:51,412 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Generated id= 1
[INFO ] 2023-01-23 09:06:51,412 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,417 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 09:06:51,417 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,418 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 09:06:51,419 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction rollback
[ERROR] 2023-01-23 09:06:51,419 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.sql.SQLException in method create: java.sql.SQLException
[INFO ] 2023-01-23 09:06:51,420 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,424 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=1, trainNumber='42', carrType=FIRST_CLASS, price=10.0, arrivalDate=0001-01-01T01:01, dispatchDate=0001-01-01T01:01, user=User{userId=0, email='null', password='null', firstName='null', lastName='null', phone='null', birthDate=null, role=null, blocked=false}, orderDate=0001-01-01T01:01, orderStatus=DECLINED, countOfSeats=3, arrivalStation='Arrival Station', dispatchStation='Dispatch Station', travelTime='Travel Time', routeId=123, carriageNumber='42', seatNumber='42', seatsId='42'}
[INFO ] 2023-01-23 09:06:51,425 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,425 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction done
[INFO ] 2023-01-23 09:06:51,426 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[INFO ] 2023-01-23 09:06:51,431 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getPriceOfSuccessfulOrders() with userId= 123
[INFO ] 2023-01-23 09:06:51,432 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - The method getPriceOfSuccessfulOrders() done, price: 10.0
[INFO ] 2023-01-23 09:06:51,435 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method create. Order: Order{id=0, trainNumber='null', carrType=null, price=0.0, arrivalDate=null, dispatchDate=null, user=null, orderDate=null, orderStatus=null, countOfSeats=0, arrivalStation='null', dispatchStation='null', travelTime='null', routeId=0, carriageNumber='null', seatNumber='null', seatsId='null'}
[INFO ] 2023-01-23 09:06:51,435 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction started
[INFO ] 2023-01-23 09:06:51,436 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Transaction rollback
[ERROR] 2023-01-23 09:06:51,436 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - class java.lang.NullPointerException in method create: java.lang.NullPointerException: Cannot invoke "java.sql.PreparedStatement.setObject(int, Object)" because "statement" is null
[INFO ] 2023-01-23 09:06:51,436 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Connection closed
[ERROR] 2023-01-23 09:06:51,453 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Unsupported operation exception
[ERROR] 2023-01-23 09:06:51,455 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Unsupported operation exception
[INFO ] 2023-01-23 09:06:51,457 com.epam.redkin.railway.model.repository.impl.OrderRepositoryImpl - Started the method getAllOrders()
